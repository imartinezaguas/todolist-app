"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5332],{5332:(D,p,d)=>{d.r(p),d.d(p,{HomePageModule:()=>E});var C=d(2200),a=d(9420),v=d(4341),f=d(8132),l=d(467),t=d(3664),c=d(8728),k=d(369);let h=(()=>{class i{constructor(e){this.storage=e,this._storage=null,this.init()}init(){var e=this;return(0,l.A)(function*(){e._storage=yield e.storage.create()})()}ensureStorageReady(){var e=this;return(0,l.A)(function*(){e._storage||(e._storage=yield e.storage.create())})()}saveCategory(e,n){var o=this;return(0,l.A)(function*(){let s;yield o.ensureStorageReady(),s=n||{id:Date.now(),name:e,task:[]},yield o._storage?.set(e,s)})()}getCategory(e){var n=this;return(0,l.A)(function*(){return yield n.ensureStorageReady(),yield n._storage?.get(e)})()}getAllCategories(){var e=this;return(0,l.A)(function*(){yield e.ensureStorageReady();const n=(yield e._storage?.keys())??[],o=[];for(const s of n){const r=yield e._storage?.get(s);r&&o.push(r)}return o})()}removeCategory(e){var n=this;return(0,l.A)(function*(){yield n.ensureStorageReady(),yield n._storage?.remove(e)})()}editNameCategory(e,n){var o=this;return(0,l.A)(function*(){const s=yield o.getCategory(e);null!==s&&(s.name=n,yield o.storage.set(n,s),yield o.storage.remove(e))})()}static#t=this.\u0275fac=function(n){return new(n||i)(c.KVO(k.w))};static#e=this.\u0275prov=c.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var A=d(1836);let _=(()=>{class i{constructor(e){this.remoteConfig=e}isFeatureEnabled(e){var n=this;return(0,l.A)(function*(){return yield n.remoteConfig.fetchAndActivate(),(yield n.remoteConfig.getValue(e)).asBoolean()})()}static#t=this.\u0275fac=function(n){return new(n||i)(c.KVO(A.pk))};static#e=this.\u0275prov=c.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function j(i,u){if(1&i){const e=t.RV6();t.j41(0,"ion-button",6),t.bIt("click",function(){c.eBV(e);const o=t.XpG();return c.Njj(o.openModalTask(o.todoList))}),t.nrm(1,"ion-icon",9),t.k0s()}}function x(i,u){if(1&i){const e=t.RV6();t.j41(0,"ion-item-sliding",null,1)(2,"ion-item")(3,"ion-checkbox",10),t.bIt("ionChange",function(o){const s=c.eBV(e).$implicit,r=t.XpG(2);return c.Njj(r.completeTask(s,o.detail.checked))}),t.EFF(4),t.k0s()(),t.j41(5,"ion-item-options")(6,"ion-item-option",8),t.bIt("click",function(){const o=c.eBV(e).$implicit,s=t.XpG(2);return c.Njj(s.deleteTask(o))}),t.EFF(7,"Delete"),t.k0s()()()}if(2&i){const e=u.$implicit;t.R7$(3),t.Y8G("checked",e.complete),t.R7$(),t.JRh(e.title)}}function T(i,u){if(1&i&&t.Z7z(0,x,8,2,"ion-item-sliding",null,t.Vm6),2&i){const e=t.XpG();t.Dyx(e.todoList.task)}}let F=(()=>{class i{constructor(e,n,o){this.alerCtrl=e,this.storage=n,this.featureFlag=o,this.categoryDeleted=new t.bkB,this.enableAddTask=!1,this.isExpanded=!0}ngOnInit(){var e=this;return(0,l.A)(function*(){e.enableAddTask=yield e.featureFlag.isFeatureEnabled("enable_add_task")})()}editCategorie(){var e=this;return(0,l.A)(function*(){var o;yield(yield e.alerCtrl.create({header:"Edit Category",inputs:[{name:"newName",type:"text",placeholder:"New name",value:e.todoList.name}],buttons:[{text:"Cancel",role:"cancel"},{text:"Save",handler:(o=(0,l.A)(function*(s){const r=s.newName.trim().toUpperCase();r&&(e.storage.editNameCategory(e.todoList.name,r),e.todoList.name=r)}),function(r){return o.apply(this,arguments)})}]})).present()})()}openModalTask(e){var n=this;return(0,l.A)(function*(){var s;yield(yield n.alerCtrl.create({cssClass:"my-custom-class",header:"Add Task",mode:"ios",inputs:[{name:"key",type:"text",placeholder:"Name of task"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"primary",handler:()=>{console.log("Confirm cancel")}},{text:"Save",handler:(s=(0,l.A)(function*(r){const m=r.key.trim().toLowerCase(),g=yield n.storage.getCategory(e.name);if(m){const G={id:Date.now(),title:m,complete:!1,categoryId:e.id};g.task.push(G),yield n.storage.saveCategory(e.name,g),n.todoList.task=[...g.task]}}),function(m){return s.apply(this,arguments)})}]})).present()})()}completeTask(e,n){var o=this;return(0,l.A)(function*(){const s=yield o.storage.getCategory(o.todoList.name),r=s.task.findIndex(m=>m.id===e.id);r>-1&&(s.task[r].complete=n,yield o.storage.saveCategory(o.todoList.name,s),o.todoList.task=[...s.task])})()}deleteTask(e){var n=this;return(0,l.A)(function*(){const o=yield n.storage.getCategory(n.todoList.name);o.task=o.task.filter(s=>s.id!==e.id),console.log(o.task),yield n.storage.saveCategory(n.todoList.name,o),n.todoList.task=[...o.task],yield n.slidingItem.closeOpened()})()}deleteCategory(){var e=this;return(0,l.A)(function*(){var o;yield(yield e.alerCtrl.create({header:"Delete category",message:`\xbfSurely you want to delete the category "${e.todoList.name}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Delete",role:"destructive",handler:(o=(0,l.A)(function*(){yield e.storage.removeCategory(e.todoList.name),e.categoryDeleted.emit(e.todoList.id),yield e.slidingRefCat.closeOpened()}),function(){return o.apply(this,arguments)})}]})).present()})()}toggleCategory(){this.isExpanded=!this.isExpanded}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(a.hG),t.rXU(h),t.rXU(_))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-list"]],viewQuery:function(n,o){if(1&n&&(t.GBs(a.A7,5),t.GBs(a.A7,5)),2&n){let s;t.mGM(s=t.lsd())&&(o.slidingItem=s.first),t.mGM(s=t.lsd())&&(o.slidingRefCat=s.first)}},inputs:{todoList:"todoList"},outputs:{categoryDeleted:"categoryDeleted"},decls:15,vars:4,consts:[["slidingRefCat",""],["slidingRef",""],["slot","end"],["fill","clear"],[3,"click"],["slot","icon-only","name","create-outline"],["fill","clear",3,"click"],["slot","icon-only","name","chevron-down-outline",3,"name"],["color","danger",3,"click"],["slot","icon-only","name","add-circle-outline"],["labelPlacement","end",3,"ionChange","checked"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"ion-item-sliding",null,0)(2,"ion-item")(3,"ion-label"),t.EFF(4),t.k0s(),t.j41(5,"ion-buttons",2),t.nVh(6,j,2,0,"ion-button",3),t.j41(7,"ion-button",4),t.bIt("click",function(){return c.eBV(s),c.Njj(o.editCategorie())}),t.nrm(8,"ion-icon",5),t.k0s(),t.j41(9,"ion-button",6),t.bIt("click",function(){return c.eBV(s),c.Njj(o.toggleCategory())}),t.nrm(10,"ion-icon",7),t.k0s()()(),t.j41(11,"ion-item-options")(12,"ion-item-option",8),t.bIt("click",function(){return c.eBV(s),c.Njj(o.deleteCategory())}),t.EFF(13,"Delete"),t.k0s()()(),t.nVh(14,T,2,0)}2&n&&(t.R7$(4),t.JRh(o.todoList.name),t.R7$(2),t.vxM(o.enableAddTask?6:-1),t.R7$(4),t.Y8G("name",o.isExpanded?"chevron-up-outline":"chevron-down-outline"),t.R7$(4),t.vxM(o.isExpanded?14:-1))},dependencies:[a.bv,a.Jm,a.QW,a.eY,a.iq,a.uz,a.LU,a.CE,a.A7,a.he,a.hB],encapsulation:2})}return i})();function R(i,u){if(1&i){const e=t.RV6();t.j41(0,"ion-searchbar",1),t.bIt("ionInput",function(o){c.eBV(e);const s=t.XpG();return c.Njj(s.handleInput(o))}),t.k0s()}}let I=(()=>{class i{constructor(e){this.featureFlag=e,this.onSearch=new t.bkB,this.searchBarEnabled=!1}ngOnInit(){var e=this;return(0,l.A)(function*(){e.searchBarEnabled=yield e.featureFlag.isFeatureEnabled("enable_search_bar")})()}handleInput(e){const n=e.detail.value.trim();this.onSearch.emit(n)}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(_))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-search"]],outputs:{onSearch:"onSearch"},decls:1,vars:1,consts:[["placeholder","Search Categories..."],["placeholder","Search Categories...",3,"ionInput"]],template:function(n,o){1&n&&t.nVh(0,R,1,0,"ion-searchbar",0),2&n&&t.vxM(o.searchBarEnabled?0:-1)},dependencies:[a.bv,a.S1,a.Gw],encapsulation:2})}return i})();function S(i,u){if(1&i){const e=t.RV6();t.j41(0,"ion-list")(1,"app-list",1),t.bIt("categoryDeleted",function(){c.eBV(e);const o=t.XpG();return c.Njj(o.refrescarCategorias())}),t.k0s()()}if(2&i){const e=u.$implicit;t.R7$(),t.Y8G("todoList",e)}}let y=(()=>{class i{constructor(e){this.storage=e,this.todoLists=[],this.filteredCategories=[]}ngOnInit(){}ngOnChanges(e){e.todoLists&&(this.filteredCategories=[...this.todoLists])}filterCategories(e){this.filteredCategories=this.todoLists.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))}refrescarCategorias(){var e=this;return(0,l.A)(function*(){const n=yield e.storage.getAllCategories();console.log(n),e.filteredCategories=[...n]})()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(h))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-lists"]],inputs:{todoLists:"todoLists"},features:[t.OA$],decls:3,vars:0,consts:[[3,"onSearch"],[3,"categoryDeleted","todoList"]],template:function(n,o){1&n&&(t.j41(0,"app-search",0),t.bIt("onSearch",function(r){return o.filterCategories(r)}),t.k0s(),t.Z7z(1,S,2,1,"ion-list",null,t.Vm6)),2&n&&(t.R7$(),t.Dyx(o.filteredCategories))},dependencies:[a.bv,a.nf,F,I],encapsulation:2})}return i})();const B=[{path:"",component:(()=>{class i{constructor(e,n){this.alerCtrl=e,this.storage=n,this.todoList=[],this.fechaRecordatorio=""}ngOnInit(){var e=this;return(0,l.A)(function*(){e.todoList=yield e.storage.getAllCategories()})()}openModalCategory(){var e=this;return(0,l.A)(function*(){var o;yield(yield e.alerCtrl.create({cssClass:"my-custom-class",header:"Add Category",mode:"ios",inputs:[{name:"key",type:"text",placeholder:"Name Of Category"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"primary",handler:()=>{}},{text:"Save",handler:(o=(0,l.A)(function*(s){const r=s.key.trim().toUpperCase();r&&(yield e.storage.saveCategory(r),e.todoList=yield e.storage.getAllCategories())}),function(r){return o.apply(this,arguments)})}]})).present()})()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(a.hG),t.rXU(h))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-home"]],standalone:!1,decls:9,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],[3,"todoLists"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," TodoList "),t.k0s()()(),t.j41(4,"ion-content",1),t.nrm(5,"app-lists",2),t.j41(6,"ion-fab",3)(7,"ion-fab-button",4),t.bIt("click",function(){return o.openModalCategory()}),t.nrm(8,"ion-icon",5),t.k0s()()()),2&n&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("todoLists",o.todoList))},dependencies:[a.W9,a.Q8,a.YW,a.eU,a.iq,a.BC,a.ai,y],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})}return i})()}];let V=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=c.G2t({imports:[f.iI.forChild(B),f.iI]})}return i})(),E=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=c.G2t({imports:[C.MD,v.YN,a.bv,V,y]})}return i})()}}]);